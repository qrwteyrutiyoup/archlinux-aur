# Maintainer: Sergio Correia <sergio@correia.cc>
# Contributor: Oleg Smirnov <oleg.smirnov@gmail.com>
# Contributor: Luke McCarthy <luke@iogopro.co.uk>

pkgname=otcl
pkgver=1.14
pkgrel=3
pkgdesc="An extension to Tcl/Tk for object-oriented programming"
url="http://otcl-tclcl.sourceforge.net/otcl/"
license=('MIT')
depends=('tk')
arch=('i686' 'x86_64')
options=('staticlibs')
source=(http://downloads.sourceforge.net/otcl-tclcl/otcl-src-"${pkgver}".tar.gz
        otcl-tcl86.patch)
sha256sums=('c644aed47ccd7e082ad47388dc8a2412a0eceacbe81d8574e560a797b782b969'
            'b96b655800ee93fd15c3c3ac8ef4a6dc5f328a0de75af7ed60f0b78a3d1a80cb')

prepare() {
  cd "${srcdir}"/"${pkgname}"-"${pkgver}"
  patch -uNp1 -i ../otcl-tcl86.patch
}

build() {
  cd "${srcdir}"/"${pkgname}"-"${pkgver}"
  ./configure --prefix="${pkgdir}"/usr
  make
}

package() {
  cd "${srcdir}"/"${pkgname}"-"${pkgver}"
  make DESTDIR="${pkgdir}" install
  chmod 644 "${pkgdir}"/usr/lib/*.a
}

# vim:set ts=2 sw=2 et:
